# A Spring Boot API server
A Spring Boot API web server generated with YAML and Swagger Editor. the YAML file is included in the root of this project.

Link: https://editor.swagger.io/

## Overview  
This server was generated by the [swagger-codegen](https://github.com/swagger-api/swagger-codegen) project.  
By using the [OpenAPI-Spec](https://github.com/swagger-api/swagger-core), you can easily generate a server stub.  
This is an example of building a swagger-enabled server in Java using the SpringBoot framework.

The underlying library integrating swagger to SpringBoot is [springdoc-openapi](https://github.com/springdoc/springdoc-openapi)

## How to get started
After cloning this repo into local machine, run the application.

You can view the api documentation in swagger-ui by pointing to  
http://localhost:8080/api/v1

and view the api documentation in JSON-format:
http://localhost:8080/api/v1/v3/api-docs

## Issues faced
The application (using VS Code) will not start out-of-the-box. Many tweaks, modifications, and fixes need to be included into the project to get the application to start. Here is a summary of the issues that hindered the start of the application:

- Springfox (documentationProvider): Springfox is deprecated as it is no longer maintained (last commit is of Oct 14, 2020) and the solution for this is to use the springdoc documentation provider which is, as an added bonus, OpenAPI v3 compatible. So, the removal of those dependencies from the pom.xml is needed:

  ``` xml
        <!--SpringFox dependencies -->
        <dependency>
            <groupId>io.springfox</groupId>
            <artifactId>springfox-oas</artifactId>
            <version>${springfox-version}</version>
        </dependency>
        <dependency>
            <groupId>io.springfox</groupId>
            <artifactId>springfox-swagger-ui</artifactId>
            <version>${springfox-version}</version>
        </dependency>
  ```

  and they will be replaced by:

  ``` xml
          <!-- Springdoc instead of springfox -->
          <dependency>
              <groupId>org.springdoc</groupId>
              <artifactId>springdoc-openapi-starter-webmvc-ui</artifactId>
              <version>2.0.3</version>
          </dependency>
  ```

- In the file application file Swagger2SpringBoot.java, the class `CustomDateConfig` extends the type `WebMvcConfigurerAdapter` which is now deprecated it needs to be replaced with an implementation of the interface `WebMvcConfigurer` as shown below:

  ``` java
  static class CustomDateConfig implements WebMvcConfigurer {
      ...
  }
  ```
- Changed the spring-boot-starter-parent version from `2.1.16.RELEAS` to `3.1.1` in the pom.xml file -> `<parent>` tag.

- Two dependencies are missing: one for io.springfox and another for org.springframework.boot and need to be added into the pom.xml file:

  ``` xml
          <dependency>
              <groupId>io.springfox</groupId>
              <artifactId>springfox-oas</artifactId>
              <version>3.0.0</version>
          </dependency>
  
          <dependency>
              <groupId>org.springframework.boot</groupId>
              <artifactId>spring-boot-starter-validation</artifactId>
          </dependency>
  ```

- This dependency 

  ``` xml
          <dependency>
              <groupId>javax.validation</groupId>
              <artifactId>validation-api</artifactId>
          </dependency>
  ```
  
  is replaced with
  
  ``` xml
          <dependency>
              <groupId>jakarta.validation</groupId>
              <artifactId>jakarta.validation-api</artifactId>
          </dependency>
  ```

- Another dependency to be added, otherwise the application won't start:

  ``` xml
          <!-- Solve the error: Type javax.servlet.http.HttpServletRequest not present -->
          <dependency>
              <groupId>javax.servlet</groupId>
              <artifactId>javax.servlet-api</artifactId>
              <version>4.0.1</version>
              <scope>provided</scope>
          </dependency>
  ```

- Several reference and import fixes as the dependencies in the pom.xml are modified.